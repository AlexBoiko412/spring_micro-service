{"version":"tree-0.1","tree":{"id":"App","path":"","children":{"localstack":{"id":"localstack","path":"localstack","children":{"PatientVPC":{"id":"PatientVPC","path":"localstack/PatientVPC","children":{"Resource":{"id":"Resource","path":"localstack/PatientVPC/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Name","value":"PatientVPC"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.186.0"}},"PublicSubnet1":{"id":"PublicSubnet1","path":"localstack/PatientVPC/PublicSubnet1","children":{"Subnet":{"id":"Subnet","path":"localstack/PatientVPC/PublicSubnet1/Subnet","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[0,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.0.0/18","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"localstack/PatientVPC/PublicSubnet1"}],"vpcId":{"Ref":"PatientVPC2805F29E"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.186.0"}},"Acl":{"id":"Acl","path":"localstack/PatientVPC/PublicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.186.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"localstack/PatientVPC/PublicSubnet1/RouteTable","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"localstack/PatientVPC/PublicSubnet1"}],"vpcId":{"Ref":"PatientVPC2805F29E"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.186.0"}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"localstack/PatientVPC/PublicSubnet1/RouteTableAssociation","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"PatientVPCPublicSubnet1RouteTable6E719DED"},"subnetId":{"Ref":"PatientVPCPublicSubnet1Subnet7AB0DAB5"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.186.0"}},"DefaultRoute":{"id":"DefaultRoute","path":"localstack/PatientVPC/PublicSubnet1/DefaultRoute","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"PatientVPCIGWE891FC7E"},"routeTableId":{"Ref":"PatientVPCPublicSubnet1RouteTable6E719DED"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.186.0"}},"EIP":{"id":"EIP","path":"localstack/PatientVPC/PublicSubnet1/EIP","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Name","value":"localstack/PatientVPC/PublicSubnet1"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.186.0"}},"NATGateway":{"id":"NATGateway","path":"localstack/PatientVPC/PublicSubnet1/NATGateway","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["PatientVPCPublicSubnet1EIPCAA55297","AllocationId"]},"subnetId":{"Ref":"PatientVPCPublicSubnet1Subnet7AB0DAB5"},"tags":[{"key":"Name","value":"localstack/PatientVPC/PublicSubnet1"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.186.0","metadata":[]}},"PublicSubnet2":{"id":"PublicSubnet2","path":"localstack/PatientVPC/PublicSubnet2","children":{"Subnet":{"id":"Subnet","path":"localstack/PatientVPC/PublicSubnet2/Subnet","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[1,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.64.0/18","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"localstack/PatientVPC/PublicSubnet2"}],"vpcId":{"Ref":"PatientVPC2805F29E"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.186.0"}},"Acl":{"id":"Acl","path":"localstack/PatientVPC/PublicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.186.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"localstack/PatientVPC/PublicSubnet2/RouteTable","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"localstack/PatientVPC/PublicSubnet2"}],"vpcId":{"Ref":"PatientVPC2805F29E"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.186.0"}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"localstack/PatientVPC/PublicSubnet2/RouteTableAssociation","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"PatientVPCPublicSubnet2RouteTable2A46E099"},"subnetId":{"Ref":"PatientVPCPublicSubnet2Subnet2E2A51DA"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.186.0"}},"DefaultRoute":{"id":"DefaultRoute","path":"localstack/PatientVPC/PublicSubnet2/DefaultRoute","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"PatientVPCIGWE891FC7E"},"routeTableId":{"Ref":"PatientVPCPublicSubnet2RouteTable2A46E099"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.186.0"}},"EIP":{"id":"EIP","path":"localstack/PatientVPC/PublicSubnet2/EIP","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Name","value":"localstack/PatientVPC/PublicSubnet2"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.186.0"}},"NATGateway":{"id":"NATGateway","path":"localstack/PatientVPC/PublicSubnet2/NATGateway","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["PatientVPCPublicSubnet2EIP9797BB99","AllocationId"]},"subnetId":{"Ref":"PatientVPCPublicSubnet2Subnet2E2A51DA"},"tags":[{"key":"Name","value":"localstack/PatientVPC/PublicSubnet2"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.186.0","metadata":[]}},"PrivateSubnet1":{"id":"PrivateSubnet1","path":"localstack/PatientVPC/PrivateSubnet1","children":{"Subnet":{"id":"Subnet","path":"localstack/PatientVPC/PrivateSubnet1/Subnet","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[0,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.128.0/18","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"localstack/PatientVPC/PrivateSubnet1"}],"vpcId":{"Ref":"PatientVPC2805F29E"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.186.0"}},"Acl":{"id":"Acl","path":"localstack/PatientVPC/PrivateSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.186.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"localstack/PatientVPC/PrivateSubnet1/RouteTable","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"localstack/PatientVPC/PrivateSubnet1"}],"vpcId":{"Ref":"PatientVPC2805F29E"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.186.0"}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"localstack/PatientVPC/PrivateSubnet1/RouteTableAssociation","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"PatientVPCPrivateSubnet1RouteTable1B739130"},"subnetId":{"Ref":"PatientVPCPrivateSubnet1SubnetD3423F29"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.186.0"}},"DefaultRoute":{"id":"DefaultRoute","path":"localstack/PatientVPC/PrivateSubnet1/DefaultRoute","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"PatientVPCPublicSubnet1NATGateway4FB25FA3"},"routeTableId":{"Ref":"PatientVPCPrivateSubnet1RouteTable1B739130"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.186.0","metadata":[]}},"PrivateSubnet2":{"id":"PrivateSubnet2","path":"localstack/PatientVPC/PrivateSubnet2","children":{"Subnet":{"id":"Subnet","path":"localstack/PatientVPC/PrivateSubnet2/Subnet","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[1,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.192.0/18","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"localstack/PatientVPC/PrivateSubnet2"}],"vpcId":{"Ref":"PatientVPC2805F29E"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.186.0"}},"Acl":{"id":"Acl","path":"localstack/PatientVPC/PrivateSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.186.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"localstack/PatientVPC/PrivateSubnet2/RouteTable","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"localstack/PatientVPC/PrivateSubnet2"}],"vpcId":{"Ref":"PatientVPC2805F29E"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.186.0"}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"localstack/PatientVPC/PrivateSubnet2/RouteTableAssociation","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"PatientVPCPrivateSubnet2RouteTable5512AC49"},"subnetId":{"Ref":"PatientVPCPrivateSubnet2Subnet668FC922"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.186.0"}},"DefaultRoute":{"id":"DefaultRoute","path":"localstack/PatientVPC/PrivateSubnet2/DefaultRoute","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"PatientVPCPublicSubnet2NATGatewayFF37A2FF"},"routeTableId":{"Ref":"PatientVPCPrivateSubnet2RouteTable5512AC49"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.186.0","metadata":[]}},"IGW":{"id":"IGW","path":"localstack/PatientVPC/IGW","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"PatientVPC"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.186.0"}},"VPCGW":{"id":"VPCGW","path":"localstack/PatientVPC/VPCGW","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"PatientVPCIGWE891FC7E"},"vpcId":{"Ref":"PatientVPC2805F29E"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.186.0","metadata":[]}},"AuthDB":{"id":"AuthDB","path":"localstack/AuthDB","children":{"SubnetGroup":{"id":"SubnetGroup","path":"localstack/AuthDB/SubnetGroup","children":{"Default":{"id":"Default","path":"localstack/AuthDB/SubnetGroup/Default","attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBSubnetGroup","aws:cdk:cloudformation:props":{"dbSubnetGroupDescription":"Subnet group for AuthDB database","subnetIds":[{"Ref":"PatientVPCPrivateSubnet1SubnetD3423F29"},{"Ref":"PatientVPCPrivateSubnet2Subnet668FC922"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBSubnetGroup","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_rds.SubnetGroup","version":"2.186.0","metadata":[]}},"SecurityGroup":{"id":"SecurityGroup","path":"localstack/AuthDB/SecurityGroup","children":{"Resource":{"id":"Resource","path":"localstack/AuthDB/SecurityGroup/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for AuthDB database","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"PatientVPC2805F29E"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.186.0","metadata":[]}},"Secret":{"id":"Secret","path":"localstack/AuthDB/Secret","children":{"Resource":{"id":"Resource","path":"localstack/AuthDB/Secret/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"description":{"Fn::Join":["",["Generated by the CDK for stack: ",{"Ref":"AWS::StackName"}]]},"generateSecretString":{"passwordLength":30,"secretStringTemplate":"{\"username\":\"admin_user\"}","generateStringKey":"password","excludeCharacters":" %+~`#$&*()|[]{}:;<>?!'/@\"\\"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.186.0"}},"Attachment":{"id":"Attachment","path":"localstack/AuthDB/Secret/Attachment","children":{"Resource":{"id":"Resource","path":"localstack/AuthDB/Secret/Attachment/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::SecretTargetAttachment","aws:cdk:cloudformation:props":{"secretId":{"Ref":"localstackAuthDBSecret30475BBA3fdaad7efa858a3daf9490cf0a702aeb"},"targetId":{"Ref":"AuthDBD9149197"},"targetType":"AWS::RDS::DBInstance"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecretTargetAttachment","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.SecretTargetAttachment","version":"2.186.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_rds.DatabaseSecret","version":"2.186.0","metadata":[]}},"Resource":{"id":"Resource","path":"localstack/AuthDB/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBInstance","aws:cdk:cloudformation:props":{"allocatedStorage":"20","copyTagsToSnapshot":true,"dbInstanceClass":"db.t2.micro","dbName":"auth-database","dbSubnetGroupName":{"Ref":"AuthDBSubnetGroup3D6A7CD1"},"engine":"postgres","engineVersion":"17.4","masterUsername":"admin_user","masterUserPassword":{"Fn::Join":["",["{{resolve:secretsmanager:",{"Ref":"localstackAuthDBSecret30475BBA3fdaad7efa858a3daf9490cf0a702aeb"},":SecretString:password::}}"]]},"storageType":"gp2","vpcSecurityGroups":[{"Fn::GetAtt":["AuthDBSecurityGroup7F3F9EF7","GroupId"]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBInstance","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_rds.DatabaseInstance","version":"2.186.0","metadata":[]}},"PatientDB":{"id":"PatientDB","path":"localstack/PatientDB","children":{"SubnetGroup":{"id":"SubnetGroup","path":"localstack/PatientDB/SubnetGroup","children":{"Default":{"id":"Default","path":"localstack/PatientDB/SubnetGroup/Default","attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBSubnetGroup","aws:cdk:cloudformation:props":{"dbSubnetGroupDescription":"Subnet group for PatientDB database","subnetIds":[{"Ref":"PatientVPCPrivateSubnet1SubnetD3423F29"},{"Ref":"PatientVPCPrivateSubnet2Subnet668FC922"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBSubnetGroup","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_rds.SubnetGroup","version":"2.186.0","metadata":[]}},"SecurityGroup":{"id":"SecurityGroup","path":"localstack/PatientDB/SecurityGroup","children":{"Resource":{"id":"Resource","path":"localstack/PatientDB/SecurityGroup/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for PatientDB database","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"PatientVPC2805F29E"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.186.0","metadata":[]}},"Secret":{"id":"Secret","path":"localstack/PatientDB/Secret","children":{"Resource":{"id":"Resource","path":"localstack/PatientDB/Secret/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"description":{"Fn::Join":["",["Generated by the CDK for stack: ",{"Ref":"AWS::StackName"}]]},"generateSecretString":{"passwordLength":30,"secretStringTemplate":"{\"username\":\"admin_user\"}","generateStringKey":"password","excludeCharacters":" %+~`#$&*()|[]{}:;<>?!'/@\"\\"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.186.0"}},"Attachment":{"id":"Attachment","path":"localstack/PatientDB/Secret/Attachment","children":{"Resource":{"id":"Resource","path":"localstack/PatientDB/Secret/Attachment/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::SecretTargetAttachment","aws:cdk:cloudformation:props":{"secretId":{"Ref":"localstackPatientDBSecretAE433EA33fdaad7efa858a3daf9490cf0a702aeb"},"targetId":{"Ref":"PatientDB17892A75"},"targetType":"AWS::RDS::DBInstance"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecretTargetAttachment","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.SecretTargetAttachment","version":"2.186.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_rds.DatabaseSecret","version":"2.186.0","metadata":[]}},"Resource":{"id":"Resource","path":"localstack/PatientDB/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBInstance","aws:cdk:cloudformation:props":{"allocatedStorage":"20","copyTagsToSnapshot":true,"dbInstanceClass":"db.t2.micro","dbName":"patient-database","dbSubnetGroupName":{"Ref":"PatientDBSubnetGroupE6D3193B"},"engine":"postgres","engineVersion":"17.4","masterUsername":"admin_user","masterUserPassword":{"Fn::Join":["",["{{resolve:secretsmanager:",{"Ref":"localstackPatientDBSecretAE433EA33fdaad7efa858a3daf9490cf0a702aeb"},":SecretString:password::}}"]]},"storageType":"gp2","vpcSecurityGroups":[{"Fn::GetAtt":["PatientDBSecurityGroup5328F2B1","GroupId"]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBInstance","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_rds.DatabaseInstance","version":"2.186.0","metadata":[]}},"AuthDBHealthCheck":{"id":"AuthDBHealthCheck","path":"localstack/AuthDBHealthCheck","attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::HealthCheck","aws:cdk:cloudformation:props":{"healthCheckConfig":{"type":"TCP","failureThreshold":3,"ipAddress":{"Fn::GetAtt":["AuthDBD9149197","Endpoint.Address"]},"port":{"Fn::GetAtt":["AuthDBD9149197","Endpoint.Port"]},"requestInterval":30}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnHealthCheck","version":"2.186.0"}},"PatientDBHealthCheck":{"id":"PatientDBHealthCheck","path":"localstack/PatientDBHealthCheck","attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::HealthCheck","aws:cdk:cloudformation:props":{"healthCheckConfig":{"type":"TCP","failureThreshold":3,"ipAddress":{"Fn::GetAtt":["PatientDB17892A75","Endpoint.Address"]},"port":{"Fn::GetAtt":["PatientDB17892A75","Endpoint.Port"]},"requestInterval":30}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnHealthCheck","version":"2.186.0"}},"MskCluster":{"id":"MskCluster","path":"localstack/MskCluster","attributes":{"aws:cdk:cloudformation:type":"AWS::MSK::Cluster","aws:cdk:cloudformation:props":{"brokerNodeGroupInfo":{"clientSubnets":[{"Ref":"PatientVPCPrivateSubnet1SubnetD3423F29"},{"Ref":"PatientVPCPrivateSubnet2Subnet668FC922"}],"instanceType":"kafka.m5.xlarge","brokerAzDistribution":"DEFAULT"},"clusterName":"kafka-cluster","kafkaVersion":"2.8.0","numberOfBrokerNodes":1}},"constructInfo":{"fqn":"aws-cdk-lib.aws_msk.CfnCluster","version":"2.186.0"}},"PatientCluster":{"id":"PatientCluster","path":"localstack/PatientCluster","children":{"Resource":{"id":"Resource","path":"localstack/PatientCluster/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Cluster","aws:cdk:cloudformation:props":{}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnCluster","version":"2.186.0"}},"DefaultServiceDiscoveryNamespace":{"id":"DefaultServiceDiscoveryNamespace","path":"localstack/PatientCluster/DefaultServiceDiscoveryNamespace","children":{"Resource":{"id":"Resource","path":"localstack/PatientCluster/DefaultServiceDiscoveryNamespace/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ServiceDiscovery::PrivateDnsNamespace","aws:cdk:cloudformation:props":{"name":"patient.local","vpc":{"Ref":"PatientVPC2805F29E"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_servicediscovery.CfnPrivateDnsNamespace","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_servicediscovery.PrivateDnsNamespace","version":"2.186.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.Cluster","version":"2.186.0","metadata":[]}},"AuthServiceTask":{"id":"AuthServiceTask","path":"localstack/AuthServiceTask","children":{"TaskRole":{"id":"TaskRole","path":"localstack/AuthServiceTask/TaskRole","children":{"ImportTaskRole":{"id":"ImportTaskRole","path":"localstack/AuthServiceTask/TaskRole/ImportTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.186.0","metadata":[]}},"Resource":{"id":"Resource","path":"localstack/AuthServiceTask/TaskRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.186.0","metadata":[]}},"Resource":{"id":"Resource","path":"localstack/AuthServiceTask/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":"auth-service","name":"auth-serviceContainer","portMappings":[{"containerPort":8085,"protocol":"tcp"}],"logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"AuthServiceLogGorup1D83B4A4"},"awslogs-stream-prefix":"auth-service","awslogs-region":{"Ref":"AWS::Region"}}},"environment":[{"name":"SPRING_SQL_INIT_MODE","value":"always"},{"name":"JWT_SECRET","value":"97be7f834c55c5b3763378eed3bb4467fbe0f1e614bd94956f3b2fedb0013b3a70126c15ad370c4524213a4990a0da27b772fcd596944941456ba2f3bb6a88052951f2e79c16b2ba71e35e61309c4531976fe5cbe4572b1ae48572f1a26563ae10da06a9e485a4bafa4e2a9afb43a6d74a9c11cda740c67a3534f97484e055e05b98afb2d5ac149a1e333b7b685a1e55b79e44526ed961a694a74fab54da3158ba3c49858f8bc0b4ed1cae632a973c52f1f649f89b59b41a0d0fb01bed7b0e8dece8d48ccce7d55afe7ce9a3d73c2427679d58db6260e25df7a9d4fbd91e77ad96e79d3a9e987e3a0cdd269a4cd6506bbeb2264201a8561272388f68453f54bc"},{"name":"SPRING_DATASOURCE_URL","value":{"Fn::Join":["",["jdbc:postgresql://",{"Fn::GetAtt":["AuthDBD9149197","Endpoint.Address"]},":",{"Fn::GetAtt":["AuthDBD9149197","Endpoint.Port"]},"/auth-service-database"]]}},{"name":"SPRING_DATASOURCE_PASSWORD","value":{"Fn::Join":["",["{{resolve:secretsmanager:",{"Ref":"AuthDBSecretAttachmentB7FB221F"},":SecretString:password::}}"]]}},{"name":"SPRING_JPA_HIBERNATE_DDL_AUTO","value":"update"},{"name":"SPRING_DATASOURCE_HIKARI_INITIALIZATION_FAIL_TIMEOUT","value":"60000"},{"name":"SPRING_DATASOURCE_USERNAME","value":"admin_user"},{"name":"SPRING_KAFKA_BOOTSTRAP_SERVERS","value":"localhost.localstack.cloud:4510, localhost.localstack:4511, localhost.localstack:4512"}]}],"cpu":"256","executionRoleArn":{"Fn::GetAtt":["AuthServiceTaskExecutionRoleA1258495","Arn"]},"family":"localstackAuthServiceTask4114E6CA","memory":"512","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"taskRoleArn":{"Fn::GetAtt":["AuthServiceTaskTaskRoleE466B974","Arn"]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.186.0"}},"auth-serviceContainer":{"id":"auth-serviceContainer","path":"localstack/AuthServiceTask/auth-serviceContainer","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.186.0"}},"ExecutionRole":{"id":"ExecutionRole","path":"localstack/AuthServiceTask/ExecutionRole","children":{"ImportExecutionRole":{"id":"ImportExecutionRole","path":"localstack/AuthServiceTask/ExecutionRole/ImportExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.186.0","metadata":[]}},"Resource":{"id":"Resource","path":"localstack/AuthServiceTask/ExecutionRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.186.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"localstack/AuthServiceTask/ExecutionRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"localstack/AuthServiceTask/ExecutionRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["AuthServiceLogGorup1D83B4A4","Arn"]}}],"Version":"2012-10-17"},"policyName":"AuthServiceTaskExecutionRoleDefaultPolicyF20AD0D3","roles":[{"Ref":"AuthServiceTaskExecutionRoleA1258495"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.186.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.186.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.186.0","metadata":[]}},"AuthServiceLogGorup":{"id":"AuthServiceLogGorup","path":"localstack/AuthServiceLogGorup","children":{"Resource":{"id":"Resource","path":"localstack/AuthServiceLogGorup/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/ecs/auth-service","retentionInDays":1}},"constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.186.0","metadata":[]}},"AuthService":{"id":"AuthService","path":"localstack/AuthService","children":{"Service":{"id":"Service","path":"localstack/AuthService/Service","attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Service","aws:cdk:cloudformation:props":{"cluster":{"Ref":"PatientClusterA1FEDA0A"},"deploymentConfiguration":{"maximumPercent":200,"minimumHealthyPercent":50,"alarms":{"alarmNames":[],"enable":false,"rollback":false}},"enableEcsManagedTags":false,"launchType":"FARGATE","networkConfiguration":{"awsvpcConfiguration":{"assignPublicIp":"DISABLED","subnets":[{"Ref":"PatientVPCPrivateSubnet1SubnetD3423F29"},{"Ref":"PatientVPCPrivateSubnet2Subnet668FC922"}],"securityGroups":[{"Fn::GetAtt":["AuthServiceSecurityGroup67F2FA7D","GroupId"]}]}},"serviceName":"auth-service","taskDefinition":{"Ref":"AuthServiceTask82E6680D"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnService","version":"2.186.0"}},"SecurityGroup":{"id":"SecurityGroup","path":"localstack/AuthService/SecurityGroup","children":{"Resource":{"id":"Resource","path":"localstack/AuthService/SecurityGroup/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"localstack/AuthService/SecurityGroup","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"PatientVPC2805F29E"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.186.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateService","version":"2.186.0","metadata":[]}},"BillingServiceTask":{"id":"BillingServiceTask","path":"localstack/BillingServiceTask","children":{"TaskRole":{"id":"TaskRole","path":"localstack/BillingServiceTask/TaskRole","children":{"ImportTaskRole":{"id":"ImportTaskRole","path":"localstack/BillingServiceTask/TaskRole/ImportTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.186.0","metadata":[]}},"Resource":{"id":"Resource","path":"localstack/BillingServiceTask/TaskRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.186.0","metadata":[]}},"Resource":{"id":"Resource","path":"localstack/BillingServiceTask/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":"billing-service","name":"billing-serviceContainer","portMappings":[{"containerPort":8084,"protocol":"tcp"},{"containerPort":9090,"protocol":"tcp"}],"logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"BillingServiceLogGorup53056209"},"awslogs-stream-prefix":"billing-service","awslogs-region":{"Ref":"AWS::Region"}}},"environment":[{"name":"SPRING_KAFKA_BOOTSTRAP_SERVERS","value":"localhost.localstack.cloud:4510, localhost.localstack:4511, localhost.localstack:4512"}]}],"cpu":"256","executionRoleArn":{"Fn::GetAtt":["BillingServiceTaskExecutionRole11FE8DE2","Arn"]},"family":"localstackBillingServiceTaskAB0446C6","memory":"512","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"taskRoleArn":{"Fn::GetAtt":["BillingServiceTaskTaskRole7A547BBF","Arn"]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.186.0"}},"billing-serviceContainer":{"id":"billing-serviceContainer","path":"localstack/BillingServiceTask/billing-serviceContainer","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.186.0"}},"ExecutionRole":{"id":"ExecutionRole","path":"localstack/BillingServiceTask/ExecutionRole","children":{"ImportExecutionRole":{"id":"ImportExecutionRole","path":"localstack/BillingServiceTask/ExecutionRole/ImportExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.186.0","metadata":[]}},"Resource":{"id":"Resource","path":"localstack/BillingServiceTask/ExecutionRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.186.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"localstack/BillingServiceTask/ExecutionRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"localstack/BillingServiceTask/ExecutionRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["BillingServiceLogGorup53056209","Arn"]}}],"Version":"2012-10-17"},"policyName":"BillingServiceTaskExecutionRoleDefaultPolicy4F4033C9","roles":[{"Ref":"BillingServiceTaskExecutionRole11FE8DE2"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.186.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.186.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.186.0","metadata":[]}},"BillingServiceLogGorup":{"id":"BillingServiceLogGorup","path":"localstack/BillingServiceLogGorup","children":{"Resource":{"id":"Resource","path":"localstack/BillingServiceLogGorup/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/ecs/billing-service","retentionInDays":1}},"constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.186.0","metadata":[]}},"BillingService":{"id":"BillingService","path":"localstack/BillingService","children":{"Service":{"id":"Service","path":"localstack/BillingService/Service","attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Service","aws:cdk:cloudformation:props":{"cluster":{"Ref":"PatientClusterA1FEDA0A"},"deploymentConfiguration":{"maximumPercent":200,"minimumHealthyPercent":50,"alarms":{"alarmNames":[],"enable":false,"rollback":false}},"enableEcsManagedTags":false,"launchType":"FARGATE","networkConfiguration":{"awsvpcConfiguration":{"assignPublicIp":"DISABLED","subnets":[{"Ref":"PatientVPCPrivateSubnet1SubnetD3423F29"},{"Ref":"PatientVPCPrivateSubnet2Subnet668FC922"}],"securityGroups":[{"Fn::GetAtt":["BillingServiceSecurityGroup3783AD35","GroupId"]}]}},"serviceName":"billing-service","taskDefinition":{"Ref":"BillingServiceTask30D9C66E"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnService","version":"2.186.0"}},"SecurityGroup":{"id":"SecurityGroup","path":"localstack/BillingService/SecurityGroup","children":{"Resource":{"id":"Resource","path":"localstack/BillingService/SecurityGroup/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"localstack/BillingService/SecurityGroup","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"PatientVPC2805F29E"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.186.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateService","version":"2.186.0","metadata":[]}},"AnalyticsServiceTask":{"id":"AnalyticsServiceTask","path":"localstack/AnalyticsServiceTask","children":{"TaskRole":{"id":"TaskRole","path":"localstack/AnalyticsServiceTask/TaskRole","children":{"ImportTaskRole":{"id":"ImportTaskRole","path":"localstack/AnalyticsServiceTask/TaskRole/ImportTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.186.0","metadata":[]}},"Resource":{"id":"Resource","path":"localstack/AnalyticsServiceTask/TaskRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.186.0","metadata":[]}},"Resource":{"id":"Resource","path":"localstack/AnalyticsServiceTask/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":"analytics-service","name":"analytics-serviceContainer","portMappings":[{"containerPort":8082,"protocol":"tcp"}],"logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"AnalyticsServiceLogGorup8BD6EC65"},"awslogs-stream-prefix":"analytics-service","awslogs-region":{"Ref":"AWS::Region"}}},"environment":[{"name":"SPRING_KAFKA_BOOTSTRAP_SERVERS","value":"localhost.localstack.cloud:4510, localhost.localstack:4511, localhost.localstack:4512"}]}],"cpu":"256","executionRoleArn":{"Fn::GetAtt":["AnalyticsServiceTaskExecutionRoleBAF654B2","Arn"]},"family":"localstackAnalyticsServiceTask353A5B10","memory":"512","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"taskRoleArn":{"Fn::GetAtt":["AnalyticsServiceTaskTaskRole1ABB10CB","Arn"]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.186.0"}},"analytics-serviceContainer":{"id":"analytics-serviceContainer","path":"localstack/AnalyticsServiceTask/analytics-serviceContainer","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.186.0"}},"ExecutionRole":{"id":"ExecutionRole","path":"localstack/AnalyticsServiceTask/ExecutionRole","children":{"ImportExecutionRole":{"id":"ImportExecutionRole","path":"localstack/AnalyticsServiceTask/ExecutionRole/ImportExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.186.0","metadata":[]}},"Resource":{"id":"Resource","path":"localstack/AnalyticsServiceTask/ExecutionRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.186.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"localstack/AnalyticsServiceTask/ExecutionRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"localstack/AnalyticsServiceTask/ExecutionRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["AnalyticsServiceLogGorup8BD6EC65","Arn"]}}],"Version":"2012-10-17"},"policyName":"AnalyticsServiceTaskExecutionRoleDefaultPolicy99868928","roles":[{"Ref":"AnalyticsServiceTaskExecutionRoleBAF654B2"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.186.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.186.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.186.0","metadata":[]}},"AnalyticsServiceLogGorup":{"id":"AnalyticsServiceLogGorup","path":"localstack/AnalyticsServiceLogGorup","children":{"Resource":{"id":"Resource","path":"localstack/AnalyticsServiceLogGorup/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/ecs/analytics-service","retentionInDays":1}},"constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.186.0","metadata":[]}},"AnalyticsService":{"id":"AnalyticsService","path":"localstack/AnalyticsService","children":{"Service":{"id":"Service","path":"localstack/AnalyticsService/Service","attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Service","aws:cdk:cloudformation:props":{"cluster":{"Ref":"PatientClusterA1FEDA0A"},"deploymentConfiguration":{"maximumPercent":200,"minimumHealthyPercent":50,"alarms":{"alarmNames":[],"enable":false,"rollback":false}},"enableEcsManagedTags":false,"launchType":"FARGATE","networkConfiguration":{"awsvpcConfiguration":{"assignPublicIp":"DISABLED","subnets":[{"Ref":"PatientVPCPrivateSubnet1SubnetD3423F29"},{"Ref":"PatientVPCPrivateSubnet2Subnet668FC922"}],"securityGroups":[{"Fn::GetAtt":["AnalyticsServiceSecurityGroupBA6AE98A","GroupId"]}]}},"serviceName":"analytics-service","taskDefinition":{"Ref":"AnalyticsServiceTaskC3AFBC47"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnService","version":"2.186.0"}},"SecurityGroup":{"id":"SecurityGroup","path":"localstack/AnalyticsService/SecurityGroup","children":{"Resource":{"id":"Resource","path":"localstack/AnalyticsService/SecurityGroup/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"localstack/AnalyticsService/SecurityGroup","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"PatientVPC2805F29E"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.186.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateService","version":"2.186.0","metadata":[]}},"PatientServiceTask":{"id":"PatientServiceTask","path":"localstack/PatientServiceTask","children":{"TaskRole":{"id":"TaskRole","path":"localstack/PatientServiceTask/TaskRole","children":{"ImportTaskRole":{"id":"ImportTaskRole","path":"localstack/PatientServiceTask/TaskRole/ImportTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.186.0","metadata":[]}},"Resource":{"id":"Resource","path":"localstack/PatientServiceTask/TaskRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.186.0","metadata":[]}},"Resource":{"id":"Resource","path":"localstack/PatientServiceTask/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":"patient-service","name":"patient-serviceContainer","portMappings":[{"containerPort":8080,"protocol":"tcp"}],"logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"PatientServiceLogGorup04452204"},"awslogs-stream-prefix":"patient-service","awslogs-region":{"Ref":"AWS::Region"}}},"environment":[{"name":"BILLING_SERVICE_GRPC_PORT","value":"9090"},{"name":"SPRING_SQL_INIT_MODE","value":"always"},{"name":"SPRING_DATASOURCE_URL","value":{"Fn::Join":["",["jdbc:postgresql://",{"Fn::GetAtt":["PatientDB17892A75","Endpoint.Address"]},":",{"Fn::GetAtt":["PatientDB17892A75","Endpoint.Port"]},"/patient-service-database"]]}},{"name":"SPRING_DATASOURCE_PASSWORD","value":{"Fn::Join":["",["{{resolve:secretsmanager:",{"Ref":"PatientDBSecretAttachmentC6CA24A0"},":SecretString:password::}}"]]}},{"name":"SPRING_JPA_HIBERNATE_DDL_AUTO","value":"update"},{"name":"SPRING_DATASOURCE_HIKARI_INITIALIZATION_FAIL_TIMEOUT","value":"60000"},{"name":"SPRING_DATASOURCE_USERNAME","value":"admin_user"},{"name":"SPRING_KAFKA_BOOTSTRAP_SERVERS","value":"localhost.localstack.cloud:4510, localhost.localstack:4511, localhost.localstack:4512"},{"name":"BILLING_SERVICE_ADDRESS","value":"host.docker.internal"}]}],"cpu":"256","executionRoleArn":{"Fn::GetAtt":["PatientServiceTaskExecutionRole3782903B","Arn"]},"family":"localstackPatientServiceTask2770C053","memory":"512","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"taskRoleArn":{"Fn::GetAtt":["PatientServiceTaskTaskRole4FB5B4E2","Arn"]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.186.0"}},"patient-serviceContainer":{"id":"patient-serviceContainer","path":"localstack/PatientServiceTask/patient-serviceContainer","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.186.0"}},"ExecutionRole":{"id":"ExecutionRole","path":"localstack/PatientServiceTask/ExecutionRole","children":{"ImportExecutionRole":{"id":"ImportExecutionRole","path":"localstack/PatientServiceTask/ExecutionRole/ImportExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.186.0","metadata":[]}},"Resource":{"id":"Resource","path":"localstack/PatientServiceTask/ExecutionRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.186.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"localstack/PatientServiceTask/ExecutionRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"localstack/PatientServiceTask/ExecutionRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["PatientServiceLogGorup04452204","Arn"]}}],"Version":"2012-10-17"},"policyName":"PatientServiceTaskExecutionRoleDefaultPolicy3866E91E","roles":[{"Ref":"PatientServiceTaskExecutionRole3782903B"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.186.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.186.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.186.0","metadata":[]}},"PatientServiceLogGorup":{"id":"PatientServiceLogGorup","path":"localstack/PatientServiceLogGorup","children":{"Resource":{"id":"Resource","path":"localstack/PatientServiceLogGorup/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/ecs/patient-service","retentionInDays":1}},"constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.186.0","metadata":[]}},"PatientService":{"id":"PatientService","path":"localstack/PatientService","children":{"Service":{"id":"Service","path":"localstack/PatientService/Service","attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Service","aws:cdk:cloudformation:props":{"cluster":{"Ref":"PatientClusterA1FEDA0A"},"deploymentConfiguration":{"maximumPercent":200,"minimumHealthyPercent":50,"alarms":{"alarmNames":[],"enable":false,"rollback":false}},"enableEcsManagedTags":false,"launchType":"FARGATE","networkConfiguration":{"awsvpcConfiguration":{"assignPublicIp":"DISABLED","subnets":[{"Ref":"PatientVPCPrivateSubnet1SubnetD3423F29"},{"Ref":"PatientVPCPrivateSubnet2Subnet668FC922"}],"securityGroups":[{"Fn::GetAtt":["PatientServiceSecurityGroup547BE1F2","GroupId"]}]}},"serviceName":"patient-service","taskDefinition":{"Ref":"PatientServiceTaskF865B565"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnService","version":"2.186.0"}},"SecurityGroup":{"id":"SecurityGroup","path":"localstack/PatientService/SecurityGroup","children":{"Resource":{"id":"Resource","path":"localstack/PatientService/SecurityGroup/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"localstack/PatientService/SecurityGroup","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"PatientVPC2805F29E"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.186.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateService","version":"2.186.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.186.0"}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}},"constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.186.0"}}}